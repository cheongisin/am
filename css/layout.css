.board{display:flex;flex-direction:column;gap:12px;align-items:center;padding:10px}
.hud{width:min(96vw, 1100px);display:flex;gap:10px;justify-content:space-between;flex-wrap:wrap}
.table{
  flex:1;
  height:min(62vw, 620px);
  min-width:0;
  border-radius:20px;
  background:
    radial-gradient(circle at 50% 38%, #1b2545 0%, #020617 70%);
  border:1px solid rgba(255,255,255,.06);
  box-shadow: var(--shadow);
  position:relative;
  overflow:hidden;
}

/* ===== 카드 그리드 테이블(요구: 8=4열, 12=6열) ===== */
.table.grid{
  --seat-gap: 18px;
  --seat-pad: 18px;
  /* hostPanel 때문에 table 폭이 줄어도 마지막 열이 잘리지 않도록, 컨테이너 기준으로 좌석 폭을 자동 축소 */
  --seat-w-fit: calc((100% - (var(--seat-cols) - 1) * var(--seat-gap) - (var(--seat-pad) * 2)) / var(--seat-cols));
  /* 인원(열 수)이 적을수록 더 크게, 많을수록 fit에 맞춰 자동 축소 */
  --seat-w: clamp(112px, var(--seat-w-fit), 175px);
  /* 카드 세로 크기는 인원과 무관하게(화면 기준으로) 유지 */
  --seat-h: clamp(170px, 24vw, 240px);
  display:grid;
  grid-template-columns: repeat(var(--seat-cols, 4), var(--seat-w));
  grid-template-rows: repeat(2, min-content);
  grid-auto-flow: column; /* 위→아래→다음열(요구: 위/아래 번갈아 자리 생성) */
  gap:var(--seat-gap);
  padding:var(--seat-pad);
  align-content:center;
  justify-content:flex-start; /* 왼쪽부터 배치(원하는 스크린샷 느낌) */
  justify-items:center;
}

@media (max-width: 760px){
  .table.grid{ grid-template-columns: repeat(4, var(--seat-w)); justify-content:center; }
}

.table.grid .seat{
  width:var(--seat-w);
  max-width:none;
}

.table.grid .seat img{
  width:100%;
  height:var(--seat-h);
  object-fit:cover;
}

/* ===== 직사각형 테이블 레이아웃(6시 HOST) ===== */
.table.rect{
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:14px;
}

.table.rect .topRow,
.table.rect .bottomRow{
  display:flex;
  align-items:flex-start;
  justify-content:space-evenly;
  gap:12px;
  width:100%;
}

.table.rect .midRow{
  flex:1;
  display:flex;
  align-items:stretch;
  justify-content:space-between;
  gap:12px;
  min-height:0;
  width:100%;
}

.table.rect .leftCol,
.table.rect .rightCol{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  width:110px;
  min-width:96px;
  height:100%;
}

.table.rect .centerArea{
  flex:1;
  min-width:0;
  min-height:0;
  position:relative;
}

.table.rect .bottomRow{
  align-items:flex-end;
}

.table.rect .bottomSide{
  flex:1;
  display:flex;
  gap:12px;
  width:100%;
  justify-content:space-evenly;
}

/* 좌석(플레이어/호스트 공통) */
.seat{position:relative; width:96px; text-align:center}
@media (max-width: 840px){ .seat{width:80px} }
.seat .imgwrap{position:relative}
.seat img{width:100%; border-radius:12px; border:1px solid var(--border); transition:transform .25s ease}
.seat .name{margin-top:6px;font-size:.85rem}
.seat.dead img{filter:grayscale(100%) brightness(.45)}
.seat.dead .imgwrap::after{
  content:"✕"; position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  font-size:3.8rem; color:rgba(220,38,38,.75); font-weight:900;
}

.phase-center{
  position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; pointer-events:none; gap:8px;
}
.phase-title{font-size:clamp(1.2rem, 2vw + 1rem, 2.1rem); font-weight:700}
.phase-time{font-size:1.1rem; color:var(--muted)}
.phase-sub{color:var(--muted)}
.timer-bar{width:min(70vw, 520px); height:10px; border-radius:999px; background:rgba(255,255,255,.12); overflow:hidden}
.timer-bar-fill{height:100%; background:linear-gradient(90deg, #facc15, #f97316); width:100%; transition:width .4s ease}

/* Dealing */
.dealwrap{max-width:1100px;margin:0 auto;padding:14px}
.dealBackdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:14px;
  z-index:9999;
}

/* DEAL(덱) 오버레이는 board 내부 absolute로 처리 */
.board{position:relative}
.board.dealActive .hud,
.board.dealActive .stage{
  filter: blur(8px);
  opacity: .55;
}

.dealBoardBackdrop{
  position:absolute;
  inset:0;
  background:rgba(2,6,23,.28);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:14px;
  z-index:300;
}

/* 작은 모달(대상 선택 등) */
.dealModal{
  width:min(92vw, 560px);
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(2,6,23,.92);
  box-shadow: var(--shadow);
  padding:14px;
}

/* 큰 모달(덱 뽑기 UI) */
.dealDeckModal{
  width:min(80%, 1100px);
  height:min(80%, 740px);
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(2,6,23,.92);
  box-shadow: var(--shadow);
  padding:14px;
  display:flex;
  flex-direction:column;
}
.dealHeader{display:flex;align-items:baseline;justify-content:space-between;gap:10px;margin-bottom:10px}
.deck{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;overflow:auto;padding:4px}
@media(min-width:900px){ .deck{grid-template-columns:repeat(4,1fr);} }
.cardbtn{border-radius:14px;border:1px solid rgba(255,255,255,.08);background:rgba(15,23,42,.55);padding:8px;cursor:pointer}
.cardbtn img{width:100%;border-radius:12px;border:1px solid var(--border)}
.cardbtn.used{opacity:.35; cursor:not-allowed}

.revealModal{
  width:min(92vw, 520px);
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(2,6,23,.92);
  box-shadow: var(--shadow);
  padding:18px;
  text-align:center;
}
.revealTitle{font-size:1.1rem;font-weight:800;margin-bottom:10px}
.revealImg{width:min(60vw, 260px);border-radius:16px;border:1px solid rgba(255,255,255,.12)}
.revealSub{margin-top:10px;font-size:1.05rem;font-weight:700}

/* Vote panel */
.voteGrid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
@media(min-width:900px){ .voteGrid{grid-template-columns:repeat(3,1fr);} }
.pill{padding:10px;border:1px solid rgba(255,255,255,.08);border-radius:14px;background:rgba(15,23,42,.55);cursor:pointer;text-align:center}
.pill.disabled{opacity:.35;cursor:not-allowed}

/* ===== 좌측 사회자 패널 ===== */
.stage{
  display:flex;
  gap:12px;
  width:min(96vw,1100px);
  align-items:center;
}

@media (max-width: 760px){
  .stage{ flex-direction:column; }
  .hostPanel{ width:auto; min-width:unset; padding:10px; }
}

.hostPanel{
  width:160px;
  min-width:150px;
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px;
  background:#020617;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
  padding:12px 10px;
}

.hostStatus{
  width:100%;
  text-align:center;
}

.hostStatus .phase-title{font-size:1.15rem; font-weight:800;}
.hostStatus .phase-time{font-size:1rem; color:var(--muted)}
.hostStatus .timer-bar{width:100%; max-width:160px; margin:8px auto 0;}

.seat.host{
  position:relative;
  transform:none;
}
